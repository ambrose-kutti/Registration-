<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-md-10">
                <div class="card">
                    <div class="card-header text-center">
                        <h3 class="mb-0">User Registration System</h3>
                        <small class="text-light">FastAPI Backend</small>
                    </div>
                    <div class="card-body p-4">
                        <!-- Step Indicator -->
                        <div class="step-indicator step1-active">
                            <div class="step active" id="step1">
                                <div class="step-circle">1</div>
                                <div class="step-label">User Details</div>
                            </div>
                            <div class="step" id="step2">
                                <div class="step-circle">2</div>
                                <div class="step-label">Photo Capture</div>
                            </div>
                            <div class="step" id="step3">
                                <div class="step-circle">3</div>
                                <div class="step-label">Complete</div>
                            </div>
                        </div>
                        <!-- Step 1: User Registration Form -->
                        <div id="step1-content">
                            <h4 class="mb-4">User Information</h4>
                            <form id="userForm">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="userId" class="form-label">User ID *</label>
                                        <input type="text" class="form-control" id="userId" required>
                                        <div class="form-text">Unique identifier for the user</div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="username" class="form-label">Username *</label>
                                        <input type="text" class="form-control" id="username" required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="department" class="form-label">Department *</label>
                                        <select class="form-select" id="department" required>
                                            <option value="" selected disabled>Select Department</option>
                                            <option value="IT">IT</option>
                                            <option value="HR">HR</option>
                                            <option value="Finance">Finance</option>
                                            <option value="Marketing">Marketing</option>
                                            <option value="Operations">Operations</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="designation" class="form-label">Designation *</label>
                                        <input type="text" class="form-control" id="designation" required>
                                    </div>
                                </div>
                                <div class="d-flex flex-column flex-md-row justify-content-between mt-4 gap-2">
                                    <button type="button" class="btn btn-secondary order-2 order-md-1" id="cancelBtn">
                                        <i class="fas fa-times"></i> Cancel
                                    </button>
                                    <button type="button" class="btn btn-primary order-1 order-md-2" id="nextToStep2">
                                        Next <i class="fas fa-arrow-right"></i>
                                    </button>
                                </div>
                            </form>
                        </div>
                        <!-- Step 2: Photo Capture -->
                        <div id="step2-content" class="hidden">
                            <h4 class="mb-4">Capture User Photos</h4>
                            <p class="text-muted mb-4">Please capture photos from 5 different angles as shown below.</p>
                            <div class="camera-container mb-4">
                                <video id="video" autoplay playsinline></video>
                                <div class="capture-btn" id="captureBtn">
                                    <i class="fas fa-camera"></i>
                                </div>
                                <div class="camera-controls mt-2 text-center">
                                    <button class="btn btn-sm btn-outline-secondary" id="switchCamera">
                                        <i class="fas fa-sync-alt"></i> Switch Camera
                                    </button>
                                </div>
                            </div>
                            <div class="photo-grid">
                                <div class="photo-box" data-angle="front">
                                    <i class="fas fa-user photo-icon"></i>
                                    <span>Front View</span>
                                    <div class="photo-status">
                                        <i class="fas fa-clock status-icon status-pending"></i>
                                        <span class="status-pending">Pending</span>
                                    </div>
                                </div>
                                <div class="photo-box" data-angle="left">
                                    <i class="fas fa-user photo-icon"></i>
                                    <span>Left View</span>
                                    <div class="photo-status">
                                        <i class="fas fa-clock status-icon status-pending"></i>
                                        <span class="status-pending">Pending</span>
                                    </div>
                                </div>
                                <div class="photo-box" data-angle="right">
                                    <i class="fas fa-user photo-icon"></i>
                                    <span>Right View</span>
                                    <div class="photo-status">
                                        <i class="fas fa-clock status-icon status-pending"></i>
                                        <span class="status-pending">Pending</span>
                                    </div>
                                </div>
                                <div class="photo-box" data-angle="top">
                                    <i class="fas fa-user photo-icon"></i>
                                    <span>Top View</span>
                                    <div class="photo-status">
                                        <i class="fas fa-clock status-icon status-pending"></i>
                                        <span class="status-pending">Pending</span>
                                    </div>
                                </div>
                                <div class="photo-box" data-angle="bottom">
                                    <i class="fas fa-user photo-icon"></i>
                                    <span>Bottom View</span>
                                    <div class="photo-status">
                                        <i class="fas fa-clock status-icon status-pending"></i>
                                        <span class="status-pending">Pending</span>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex flex-column flex-md-row justify-content-between mt-4 gap-2">
                                <button type="button" class="btn btn-secondary order-2 order-md-1" id="backToStep1">
                                    <i class="fas fa-arrow-left"></i> Back
                                </button>
                                <button type="button" class="btn btn-primary order-1 order-md-2" id="nextToStep3" disabled>
                                    Complete Registration <i class="fas fa-check"></i>
                                </button>
                            </div>
                            <div id="photoError" class="error-message mt-3 text-center hidden">
                                <i class="fas fa-exclamation-triangle"></i> 
                                <span id="errorText">Please capture all 5 photos before proceeding.</span>
                            </div>
                        </div>
                        <!-- Step 3: Success Message -->
                        <div id="step3-content" class="hidden">
                            <div class="success-animation">
                                <i class="fas fa-check-circle"></i>
                                <h3 class="text-success">Registration Successful!</h3>
                                <p class="text-muted mb-4" id="successMessage">User details and photos have been saved successfully.</p>
                                <div class="registration-details mt-4 p-3 bg-light rounded">
                                    <h5 class="mb-3">Registration Details:</h5>
                                    <div id="registrationDetails" class="row">
                                        <!-- Details will be populated by JavaScript -->
                                    </div>
                                </div>
                                <div class="action-buttons mt-4">
                                    <div class="d-grid gap-2 d-md-block">
                                        <button type="button" class="btn btn-primary mb-2 me-md-2" id="registerAnother">
                                            <i class="fas fa-user-plus"></i> Register Another User
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/script.js"></script>
</body>
</html>
